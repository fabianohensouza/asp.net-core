@model Unidade
@using Newtonsoft.Json;

@if (Model.UnidadeNumero == "")
{
    <h2>Criar nova Unidade</h2>
} 
else
{
    <h2>Editar Unidade</h2>
}

@* Display validation summary for all errors *@
<div asp-validation-summary="All" class="text-danger"></div>

<form asp-action="SaveChanges" method="post">
    @* Hidden field for UnidadeID *@
    <input type="hidden" asp-for="UnidadeID" />
    @* Hidden field for CoopID *@
    <input type="hidden" asp-for="CoopID" />

    <div class="form-group row mb-3">
        <div class="col-md-12 d-flex align-items-center">
            <label class="col-form-label me-2" style="width: 13%">Coop</label>
            <input class="form-control" value="@Model.Coop?.CoopNumero - @Model.Coop?.CoopNome" readonly />
        </div>
    </div>

    <div class="form-group row mb-3">
        <div class="col-md-4 d-flex align-items-center">
            <label asp-for="UnidadeNumero" class="col-form-label me-2" style="width: 60%"></label>
            <input asp-for="UnidadeNumero" class="form-control" />
        </div>
        <div class="col-md-8 d-flex align-items-center">
            <label asp-for="UnidadeNome" class="col-form-label me-2" style="width: 10%"></label>
            <input asp-for="UnidadeNome" class="form-control" />
        </div>
    </div>

    <div class="form-group row mb-3">
        <div class="col-md-12 d-flex align-items-center">
            <label asp-for="UnidadeObs" class="col-form-label me-2" style="width: 13%"></label>
            <input asp-for="UnidadeObs" class="form-control" />
        </div>
    </div>

    <div class="d-flex justify-content-end align-items-center gap-2">
        <form asp-action="SaveChanges" method="post" class="mb-0">
            <input type="hidden" asp-for="UnidadeID" />
            <button type="submit" class="btn btn-primary">Salvar</button>
        </form>

        <form asp-action="Index" method="post" class="mb-0">
            <input type="hidden" name="CoopID" value="@Model.CoopID" />
            <button type="submit" class="btn btn-secondary">Retornar</button>
        </form>
    </div>
</form>

@if (!Model.UnidadeNova)
{

    <hr />
    <h2> Sim</h2>
}